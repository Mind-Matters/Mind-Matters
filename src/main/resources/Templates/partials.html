<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head th:fragment="head">
    <meta charset="UTF-8">
    <link rel="stylesheet" href="/CSS/footer.css">
    <link rel="stylesheet" href="/CSS/loggedInNav.css">
    <link rel="stylesheet" href="/CSS/loggedOutNav.css">
    <link rel="stylesheet" href="/CSS/main.css">
    <title>Default Head</title>
</head>


<body>

<div th:fragment="medTracker" class="medTracker" id="medTracker">
    <h1>Medication Tracker</h1>
    <form th:action="@{/trackMedication}" th:method="post">
        <label for="taken">Took Medication</label>
        <!--<input type="hidden"  id="defaultTaken" name="taken" value="false">-->
        <input type="checkbox" id="taken" name="taken" value="true">
        <input type="submit" value="Submit">
    </form>
    <table>
        <tr>
            <th>Date</th>
            <th>Took Medication</th>
        </tr>
        <tr th:each="trackMedication : ${trackMedications}">
            <td th:text="${trackMedication.date}"></td>
            <td th:text="${trackMedication.taken}"></td>
    </table>
</div>
<div th:fragment="medList" class="medList" id="medList">
    <h1>Medication List</h1>
    <table>
        <tr>
            <th>Medication Name</th>
            <th>Medication Dosage</th>
            <th>Medication Frequency</th>
            <th>Medication Start Date</th>
            <th>Medication End Date</th>
            <th>Medication Notes</th>
            <th>Medication Status</th>
            <th>Medication Edit</th>
            <th>Medication Delete</th>
        </tr>
        <tr th:each="med : ${meds}">
            <td th:text="${med.medicationName}"></td>
            <td th:text="${med.medicationDosage}"></td>
            <td th:text="${med.medicationFrequency}"></td>
            <td th:text="${med.medicationStartDate}"></td>
            <td th:text="${med.medicationEndDate}"></td>
            <td th:text="${med.medicationNotes}"></td>
            <td th:text="${med.medicationStatus}"></td>
            <td>
                <form th:action="@{/editMedication}" th:method="post">
                    <input type="hidden" th:name="id" th:value="${med.id}">
                    <input type="submit" value="Edit">
                </form>
            </td>
            <td>
                <form th:action="@{/deleteMedication}" th:method="post">
                    <input type="hidden" th:name="id" th:value="${med.id}">
                    <input type="submit" value="Delete">
                </form>
            </td>
        </tr>
    </table>
</div>

<div th:fragment="pendingUsers" class="pendingUsers" id="pendingUsers">
    <h1>Pending Users</h1>
    <table>
        <tr>
            <th>Username</th>
            <th>Role</th>
            <th>Approve</th>
            <th>Deny</th>
        </tr>
        <tr th:each="user : ${pendingUsers}">
            <td th:text="${user.username}"></td>
            <td th:text="${user.isProvider}"></td>
            <td>
                <form th:action="@{/approval}" th:method="post">
                <input type="hidden" th:name="id" th:value="${user.id}">
                <input type="hidden" th:name="isApproved" th:value="true">
                <input type="submit" value="Approve">
                </form>
            </td>
            <td>
                <form th:action="@{/approval}" th:method="post">
                    <input type="hidden" th:name="id" th:value="${user.id}">
                    <input type="hidden" th:name="isApproved" th:value="false">
                    <input type="submit" value="Deny">
                </form>
            </td>
        </tr>
    </table>
</div>

<header th:fragment="header-one">
    <a class="logo" href="/home"><img src="/Images/LOGO2.png" alt="logo"></a>
    <nav>
        <ul class="nav_links">
            <li><a class="anchors" href="#">Link</a></li>
            <li><a class="anchors" href="#">Link</a></li>
            <li><a class="anchors" href="#">Link</a></li>
<!--            <li><a class="login" href="#"><button class="login-btn" onclick="document.getElementById('login-form').style.display='block'" style="width: auto">Login</button></a></li>-->
            <li><a class="login" href="/login"><button class="login-btn" >Login</button></a></li>
            <li><a class="sign-up" href="/signup"><button class="register-btn" >Get Started</button></a></li>
        </ul>
    </nav>
</header>

<header th:fragment="header-two">
    <img class="logo" src="/Images/LOGO2.png" alt="logo">
    <nav>
        <ul class="nav_links">
            <li><a class="anchors" href="#">Link</a></li>
            <li><a class="anchors" href="#">Link</a></li>
            <li><a class="anchors" href="#">Link</a></li>
            <li><a class="log-out" href="#"><button class="logout-btn" >Log out</button></a></li>
        </ul>
    </nav>
</header>

<h2 th:fragment="h2">i am a fragment</h2>
</body>
<div th:fragment="footer" class="footer">

    <a class="anchors" href="#top">Back to top of page</a>
    <!--We can add links and an about us for a nice to have-->
    <footer> Copyright &copy; 2023 Mind-Matters </footer>
</div>
</html>